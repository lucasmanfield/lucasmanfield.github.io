{"version":3,"sources":["utilities.js","BillBox.js","PersonBox.js","App.js","Person.js","Bill.js","Committee.js","Subject.js","Agenda.js","JUN20-MSS-Logo-Banner.png","index.js"],"names":["matchNameByLastName","name","lastname","lastName","n","indexOf","substring","firstInitial","lastNameSplit0","lastNames","split","length","replace","names","styleForTag","tag","background","border","capitalize","string","charAt","toUpperCase","slice","deadlines","date","moment","prose","description","padding","roleToNumber","role","Bill","title","status","notes","tags","step","agendas","history","useHistory","statusDescription","className","onClick","push","e","stopPropagation","href","url","target","type","trim","map","style","flex","PersonBox","email","phone","party","district","chamber","encodeURIComponent","App","scrapedData","useState","suggestions","setSuggestions","address","setAddress","searchValue","setSearchValue","lastModified","setLastModified","representatives","setRepresentatives","representativesError","setRepresentativesError","searchError","setSearchError","useCookies","cookies","useEffect","getRepresentatives","fetch","then","response","json","data","coordinates","error","message","legislators","results","newRepresentatives","forEach","legislator","current_role","org_classification","person","people","find","p","console","log","following","followingBills","found","bills","bill","nextDeadline","d","sessionLength","unix","sessionProgress","format","left","fromStart","top","onSuggestionsFetchRequested","value","filter","toLowerCase","includes","sort","a","b","concat","onSuggestionsClearRequested","onSuggestionSelected","suggestion","highlightFirstSuggestion","getSuggestionValue","renderSuggestion","inputProps","placeholder","onBlur","onChange","setTimeout","onSelect","getInputProps","getSuggestionItemProps","loading","active","rep","key","BillBox","followingIdx","Person","loaded","useParams","setPerson","setBills","tempBills","sponsors","s","sortedBills","last_update_parsed","to","src","photo","district_name","positions","position","committees","committee","markdownConverter","showdown","Converter","setBill","setCookie","laidOut","useLayoutEffect","window","twttr","widgets","load","isFollowing","num","statusBox","isValid","versionNames","versions","houseVote","votes","v","senateVote","last_action","passed","yes","no","width","subjects","subject","idx","fiscal_note","annual_revenue","annual_cost","toFixed","agency","similar_to","amendments","amendment","join","sponsor","output","getPersonByLastName","classification","dispatches","dispatch","reporter","dangerouslySetInnerHTML","__html","makeHtml","content","Committee","Subject","Agenda","diff","agenda","agendaItem","Wrapper","require","Object","keys","k","last_action_date","canDie","startsWith","updateBillStatus","scrapedLegislators","base","Airtable","apiKey","setLoaded","mobileMenuShow","setMobileMenuShow","joinAirtable","Promise","all","resolve","reject","billNames","select","view","eachPage","records","fetchNextPage","record","get","err","source","billData","Logo","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7598179.chunk.js","sourcesContent":["import moment from 'moment'\n\nexport function matchNameByLastName(name, lastname) {\n  let lastName = lastname\n  const n = lastName.indexOf('(')\n  if (n != -1) {\n    \n    lastName = lastName.substring(0, n - 1)\n  }\n  \n  let firstInitial = null\n  let lastNameSplit0 = null\n  const lastNames = lastName.split(' ')\n  if (lastNames.length >= 2) {\n    lastNameSplit0 = lastNames[0].replace(',','')\n    firstInitial = lastNames[1][0]\n  }\n  const names = name.split(' ')\n\n  if (firstInitial) {\n    if (names[names.length - 1] === lastNameSplit0 && names[0][0] == firstInitial) {\n      return true\n    }\n    return false\n  }\n  if (names.length > 2 && names[names.length - 2] === lastName) {\n    return true\n  }\n  if (names[names.length - 1] === lastName) {\n    return true\n  }\n\n  return false\n}\n\nexport function getPersonByLastName(people, lastname) {\n  let output = null\n  people.forEach(person => {\n    if (matchNameByLastName(person.name, lastname)) {\n      output = person\n    }\n  })\n  return output\n}\n\nexport function styleForTag(tag) {\n  if (tag === 'Sponsored by leadership') {\n    return {background: '#fff2ef'}\n  }\n  if (tag === 'Too many committees') {\n    return {background: '#fff2ef'}\n  }\n  if (tag === 'Major support') {\n    return {background: '#9bffb1'}\n  }\n  return {background: 'white', border: '1px solid black'}\n}\n\nexport function updateBillStatus(bill) {\n  if (bill.status.last_action_date) {\n    bill.last_update_parsed = moment(bill.status.last_action_date)\n  }\n  let canDie = false\n  if (bill.status.step == 'signed') {\n    bill.step = 12;\n  } else if (bill.status.step == 'governor') {\n    bill.step = 11;\n  } else if (bill.status.step == 'vetoed') {\n    bill.step = 12;\n  } else if (bill.status.step == 'passed') {\n    bill.step = 10;\n  } else if (bill.status.step == 'failed') {\n    bill.step = 10\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.step = 5\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.step = 5\n    }\n  } else if (bill.status.step.toLowerCase() == 'committee') {\n    canDie = true\n    bill.step = 6\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.step = 1\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.step = 1\n    }\n  } else if (bill.status.step.toLowerCase() == '1st reading') {\n    canDie = true\n    bill.step = 7\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.step = 2\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.step = 2\n    }\n  } else if (bill.status.step.toLowerCase() == '2nd reading') {\n    canDie = true\n    bill.step = 8\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.step = 3\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.step = 3\n    }\n  } else if (bill.status.step.toLowerCase() == '3rd reading') {\n    canDie = true\n    bill.step = 9\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.step = 4\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.step = 4\n    }\n  } else if (bill.status.step.includes('senate introduction')) {\n    bill.step = 5\n    bill.status.step = 'To Senate'\n  } else if (bill.status.step.includes('house introduction')) {\n    bill.step = 5\n    bill.status.step = 'To House'\n  }\n\n  if (canDie && \n      !(\n        bill.title.startsWith('Budget Bill') || \n        bill.title.startsWith('Supplemental appropriation') || \n        bill.title.startsWith('Supplementing') || \n        bill.title.startsWith('Making supplemental appropriation') ||\n        bill.title.startsWith('Expiring funds to')\n      )) {\n    if (bill.name.includes('HB') && bill.status.chamber == 'house') {\n      bill.status.step = 'likely dead'\n    }\n    if (bill.name.includes('SB') && bill.status.chamber == 'senate') {\n      bill.status.step = 'likely dead'\n    }\n  }\n}\n\nexport function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport const deadlines = [\n  {\n    date: moment('2/10/21'),\n    name: 'First Day',\n    prose: 'the first day of the session',\n    description: \"Bills can be introduced.\"\n  },\n  {\n    date: moment('3/16/21'),\n    name: 'House Deadline',\n    prose: 'the last day to introduce bills in the house',\n    description: \"Last day to introduce bills in the House.\"\n  },\n  {\n    date: moment('3/22/21'),\n    name: 'Senate Deadline',\n    prose: 'the last day to introduce bills in the senate',\n    padding: 15,\n    description: \"Last day to introduce bills in the Senate.\"\n  },\n  {\n    date: moment('3/28/21'),\n    name: 'Committee Deadline',\n    prose: 'the last day for bills to emerge from committee',\n    padding: 30,\n    description: \"Bills due out of committee.\"\n  },\n  {\n    date: moment('3/31/21'),\n    name: 'Crossover Day',\n    prose: 'the last day to consider bills on the floor',\n    padding: 45,\n    description: \"Last day for a bill to pass in its chamber of origin.\"\n  },\n  {\n    date: moment('4/10/21'),\n    name: 'Final Day',\n    prose: 'the last day of the session',\n    description: \"Deadline for passage is midnight on the sixtieth day of the session.\"\n  }\n]\n\nexport function roleToNumber(role) {\n  if (role == 'Chair') {\n    return 3;\n  }\n  if (role == 'Vice Chair') {\n    return 2;\n  }\n  if (role == 'Member') {\n    return 1;\n  }\n  return 0;\n}\n\nexport function currencyFormat(num) {\n  return '$' + num.toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n}","import React from 'react';\nimport { useHistory, Link } from \"react-router-dom\";\nimport { styleForTag, capitalize } from './utilities'\n\nfunction Bill({ name, title, status, notes, tags, step, agendas }) {\n    const history = useHistory()\n\n    let statusDescription = status.step\n  \n    return (\n      <div className=\"BillBox\" onClick={() => history.push(`/bill/${name}`)}>\n        <div className=\"BillBox-name\">\n          <span>{name}</span>\n          {agendas.length ?\n            <a onClick={e => e.stopPropagation()} className=\"BillBox-agenda\" href={agendas[0].url} target=\"_blank\">{agendas[0].type == 'committee' ? 'On agenda' : 'On calendar'}</a>\n          : ''}\n        </div>\n        <div className=\"BillBox-details\">\n          <div className=\"BillBox-title\">{title}</div>\n          {notes && notes.trim().length ? <div className=\"BillBox-notes\">{notes}</div> : ''}\n          {tags && tags.length ? <div className=\"BillBox-tags\">\n            {(tags || []).map(tag => (\n              <div className=\"Tag\" style={styleForTag(tag)}>{tag}</div>\n            ))}\n          </div> : ''}\n        </div>\n        <div className=\"BillBox-status\">\n          {capitalize(statusDescription)}\n          <div className={`BillBox-statusbar ${status.step == 'likely dead' ? 'BillBox-dead': ''} ${status.step == 'failed' || status.step == 'vetoed' ? 'BillBox-failed': ''}`}>\n            <div className=\"BillBox-statusbar-segment\">\n              <div className={`BillBox-statusbar-dot ${step >= 1 ? 'active' : ''}`} />\n              <div className={`BillBox-statusbar-line ${step >= 5 && status.step != 'failed'  ? 'active' : ''}`} />\n            </div>\n            <div className=\"BillBox-statusbar-segment\">\n              <div className={`BillBox-statusbar-dot ${step >= 6 ? 'active' : ''}`} />\n              <div className={`BillBox-statusbar-line ${step >= 11 && status.step != 'failed' ? 'active' : ''}`} />\n            </div>\n            <div className=\"BillBox-statusbar-segment\" style={{flex: 0}}>\n              <div className={`BillBox-statusbar-dot ${step == 12 ? 'active' : ''}`} />\n            </div>\n          </div>  \n        </div>\n      </div>\n    )\n  }\n\n  export default Bill","\nimport React from 'react';\nimport { MdPhone, MdEmail } from 'react-icons/md';\nimport { useHistory } from \"react-router-dom\";\n\nfunction PersonBox({ name, email, phone, party, district, chamber, tag }) {\n  const history = useHistory()\n  return (\n    <div \n      className=\"PersonBox-representative\" \n      key={name} \n      onClick={e => {\n        history.push(`/person/${encodeURIComponent(name)}`)\n      }} \n    >\n      <div className=\"PersonBox-representative-name\">{party ? `${party[0]} - ` : ''}{name}</div>\n      <div className=\"PersonBox-representative-office\">\n        {chamber == 'Senate' ? 'Senator' : 'Delegate'}{district ? `, District ${district}` : ''}\n      </div>\n      {tag ? <div className=\"PersonBox-tag\">{tag}</div> : ''} \n      <div className=\"PersonBox-contact-icons\">\n        {email ? <a href={`mailto:${email}`} onClick={e => e.stopPropagation()}><MdEmail /></a> : ''}\n        {phone ? <a href={`tel:${phone}`} onClick={e => e.stopPropagation()}><MdPhone/></a> : ''}\n      </div>\n    </div>\n  )\n}\n\nexport default PersonBox","import React, { useState, useEffect, } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { useHistory } from \"react-router-dom\";\nimport { useCookies } from 'react-cookie'\nimport { deadlines, capitalize, getPersonByLastName } from './utilities'\nimport BillBox from './BillBox'\nimport PersonBox from './PersonBox'\nimport moment from 'moment'\nimport { CgSpinner } from 'react-icons/cg'\nimport PlacesAutocomplete from 'react-places-autocomplete';\n\nlet addressTimeout;\nlet searchTimeout;\nfunction App({ scrapedData }) {\n  const [suggestions, setSuggestions] = useState(null)\n  const [address, setAddress] = useState(null)\n  const [searchValue, setSearchValue] = useState('')\n  const [lastModified, setLastModified] = useState(null)\n  const [representatives, setRepresentatives] = useState(null)\n  const [representativesError, setRepresentativesError] = useState(null)\n  const [searchError, setSearchError] = useState(null)\n  const [cookies, setCookie, removeCookie] = useCookies(['following', 'address', 'welcome'])\n\n\n  \n  useEffect(() => {\n    setLastModified(moment(\"4-3-2021\", \"MM-DD-YYYY\"))\n    return\n    fetch('https://capitoltracker.mountainstatespotlight.org/', {\n      method: 'HEAD'\n    })\n    .then(response => {\n      setLastModified(moment(response.headers.get('last-modified')))\n    })\n  }, []);\n\n\n  const getRepresentatives = (address) => {\n    fetch('https://api.mapbox.com/geocoding/v5/mapbox.places/' + encodeURIComponent(address) + '.json?country=US&limit=1&access_token=pk.eyJ1IjoibG1hbjgxNyIsImEiOiJjajEzemlybW4wMDJ5MndwaWVlM3QwbG1kIn0.XdGKlKDd6e7bCPxwy-Pteg')\n      .then(response => response.json())\n      .then(data => {\n        const coordinates = data['features'][0]['center']\n        fetch('https://v3.openstates.org/people.geo?lat=' + coordinates[1] + '&lng=' + coordinates[0] + '&apikey=b41b45ec-6183-436a-8b37-cfe02bc5911f')\n          .then(response => response.json())\n          .then(data => {\n            if (data.error) {\n              setRepresentativesError(data.error.message)\n              setRepresentatives([])\n              return\n            }\n            const legislators =  data.results\n            if (!legislators || !legislators.length) {\n              setRepresentativesError('No information found at this address')\n              setRepresentatives([])\n              return\n            }\n            setRepresentativesError(null)\n            const newRepresentatives = []\n            legislators.forEach(legislator => {\n              const chamber = legislator.current_role.org_classification == 'upper' ? 'Senate' : 'House'\n              const person = scrapedData.people.find(p => p.chamber == chamber && p.name == legislator.name)\n              if (person) {\n                newRepresentatives.push(person)\n              } else {\n                console.log(\"Could not find\", legislator.name)\n              }\n            })\n            if (!newRepresentatives.length) {\n              setRepresentativesError('No information found at this address')\n              setRepresentatives([])\n              return\n            }\n            setRepresentatives(newRepresentatives)\n          })\n\n      })\n  }\n\n  const history = useHistory()\n  \n  let following = (cookies.following || '').split(',')\n  let followingBills = []\n  following.forEach(name => {\n    let found = false\n    scrapedData.bills.forEach(bill => {\n      if (found) return\n      if (name == bill.name) {\n        followingBills.push(bill)\n        found = true\n      }\n    })\n  })\n\n  let nextDeadline = null\n  deadlines.forEach(d => {\n    if (!nextDeadline && d.date > moment()) {\n      nextDeadline = d\n    }\n  })\n  const sessionLength = deadlines[deadlines.length - 1].date.unix() - deadlines[0].date.unix()\n  const sessionProgress = (moment(moment(\"4-3-2021\", \"MM-DD-YYYY\").format('YYYY-MM-DD') + ' 00:01:00').unix() - deadlines[0].date.unix()) / sessionLength\n  return (\n    <div className=\"App-container\">\n      <div className=\"App-header\">\n        <h1>West Virginia's 2021 Capitol Tracker</h1>\n        <div className=\"byline\">By <a href=\"https://mountainstatespotlight.org/author/lucasmanfield/\">Lucas Manfield</a>, Mountain State Spotlight. {lastModified ? `Data updated ${lastModified.format('MMMM D, YYYY').replace('pm', 'p.m.').replace('am', 'a.m.')}.`: ''}</div>\n        <div className=\"App-intro\">\n          <p>Keeping track of West Virginia's chaotic two months of lawmaking can be daunting. To help you decipher it, our nonprofit investigative newsroom at <a href=\"https://mountainstatespotlight.org\">Mountain State Spotlight</a> is trying something new.</p>\n          <p>Here, you can: get live updates from our reporters as they cover legislators' latest moves; contact your elected representatives; keep tabs on all of the bills you’re following in one place; and look up a bill to find out why it is stuck — or sailing through. The current status of each bill is updated nightly from the legislature's <a href=\"http://www.wvlegislature.gov/\">official website</a>.</p>\n          <p>If you have questions, check out <a href=\"https://mountainstatespotlight.org/2021/02/14/introducing-mountain-state-spotlights-west-virginia-capitol-tracker/\">our guide to the tracker here</a>, or <a href=\"mailto:lucasmanfield@mountainstatespotlight.org\">reach out</a>. We'd love to know what's working and what's not.</p>\n        </div>\n      </div>\n      <div className=\"App-timeline\">\n        <div className=\"App-timeline-line\"></div>\n        {sessionProgress <= 1 && sessionProgress >= 0 ?\n          <div className=\"App-timeline-today\" style={{\n            left: (sessionProgress * 100) + '%'\n          }}>\n            <div className=\"App-timeline-today-label\">Today</div>\n            <div className=\"App-timeline-today-arrow\"></div>\n          </div>\n        : ''}\n        {deadlines.map(d => {\n          const fromStart = d.date.unix() - deadlines[0].date.unix()\n          return (\n            <div className=\"App-timeline-deadline\" style={{\n              left: (fromStart / sessionLength * 100) + '%'\n            }} key={d.name}>\n              <div className=\"App-timeline-hoverspot\" />\n              <div className=\"App-timeline-deadline-tooltip\">{d.description}</div>\n              <div className=\"App-timeline-deadline-tooltip-arrow\"></div>\n              <div className=\"App-timeline-deadline-label\" style={{top: (15 + (d.padding || 0)) + 'px'}}><b>{d.date.format('MMM D')}</b> {d.name}</div>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"App-search-container\">\n        <div className=\"App-search\">\n          <div className=\"App-section-header\">\n            <h2>Look up a bill or representative by name</h2>\n          </div>\n          <Autosuggest\n            suggestions={suggestions || []}\n            onSuggestionsFetchRequested={({ value }) => {\n              let bills = scrapedData.bills.filter(bill => {\n                return bill.title.toLowerCase().includes(value.toLowerCase()) || bill.name.toLowerCase().includes(value.toLowerCase())\n              }).sort((a,b) => {\n                if (a.name == value) {\n                  return -1;\n                }\n                if (a.name.split(' ')[1] == value) {\n                  return -1\n                }\n                return 1\n              })\n              bills.forEach(bill => bill.type = 'bill')\n              let people = scrapedData.people.filter(p => {\n                return p.name.toLowerCase().includes(value.toLowerCase())\n              })\n              people.forEach(p => p.type = 'person')\n              setSuggestions(bills.slice(0, 8).concat(people.slice(0,6)))\n            }}\n            onSuggestionsClearRequested={() => {\n              setSuggestions(null)\n            }}\n            onSuggestionSelected={(e, { suggestion }) => {\n              if (suggestion.type == 'bill') {\n                history.push('/bill/' + suggestion.name)\n              } else {\n                history.push('/person/' + suggestion.name)\n              }\n            }}\n            highlightFirstSuggestion={true}\n            getSuggestionValue={suggestion => suggestion}\n            renderSuggestion={suggestion => (\n                <div className=\"App-suggestion\">\n                  {suggestion.type == 'bill' ? (\n                      <div className=\"App-suggestion-bill\">\n                        <b>{suggestion.name}</b> {suggestion.title || suggestion.party}\n                      </div>\n                    ) : (\n                      <div className=\"App-suggestion-person\">\n                        {suggestion.name}\n                      </div>\n                    )\n                  }\n                  <div className=\"App-suggestion-view\">View</div>\n                </div>\n              )\n            }\n            inputProps={{\n              placeholder: 'e.g. SB 101, Amy Summers',\n              value: searchValue || '',\n              onBlur: (e) => {\n                setSearchError(null)\n              },\n              onChange: (e) => {\n                setSearchValue(e.target.value)\n\n                if (searchTimeout) {\n                  clearTimeout(searchTimeout)\n                }\n                if (!e.target.value || !e.target.value.length) {\n                  setSearchError(null)\n                } else {\n                  setTimeout(() => {\n                    if (searchValue.length && suggestions && !suggestions.length) {\n                      setSearchError('No results found')\n                    }\n                  }, 500)\n                }\n              }\n            }}\n          />\n          {searchError && !suggestions.length ? \n            <div className=\"App-search-error\">\n              {searchError}\n            </div>\n          : ''}\n        </div>\n        <div className=\"App-localrep\">\n          <div className=\"App-section-header\">\n            <h2>Look up your local representatives by address</h2>\n          </div>\n          <PlacesAutocomplete\n            value={address || ''}\n            onChange={address => {\n              setAddress(address)\n              if (!address || !address.length) {\n                setRepresentatives(null)\n              }\n            }}\n            highlightFirstSuggestion={false}\n            onSelect={address => {\n              setAddress(address)\n              setRepresentatives(null)\n              getRepresentatives(address)\n            }}\n          >\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n              <div className=\"react-autosuggest__container\">\n                <div className={`App-localrep-searchbutton ${!address || !address.length ? 'disabled' : ''}`} onClick={() => {\n                  setAddress(address)\n                  setRepresentatives(null)\n                  getRepresentatives(address)\n                }}>Search</div>\n                <input\n                  {...getInputProps({\n                    placeholder: '123 Main St, St Albans',\n                    className: 'react-autosuggest__input',\n                  })}\n                />\n                {suggestions && suggestions.length ?\n                <div className=\"react-autosuggest__suggestions-container react-autosuggest__suggestions-container--open \">\n                  <ul className=\"react-autosuggest__suggestions-list\">\n                    {suggestions.map(suggestion => {\n                      const className = suggestion.active\n                        ? 'react-autosuggest__suggestion react-autosuggest__suggestion--highlighted'\n                        : 'react-autosuggest__suggestion';\n\n                      return (\n                        <li\n                          key={suggestion.description}\n                          {...getSuggestionItemProps(suggestion, { className })}\n                        >\n                          {suggestion.description}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </div>\n                : ''}\n              </div>\n            )}\n          </PlacesAutocomplete>\n\n          {representatives ? \n            <div className=\"App-representatives\">\n              {representatives.length ?\n                representatives.map(rep => (\n                  <PersonBox {...rep} key={rep.name} />\n                ))\n              : \n                <div className=\"App-representatives-spinner\">\n                {representativesError ?\n                    <span className=\"App-representatives-error\">{representativesError}</span> \n                  :\n                    <CgSpinner />\n                }\n                </div>\n              }\n            </div>\n          : ''}\n        </div>\n      </div>\n      {followingBills.length ?\n        <div className=\"App-section\">\n          <div className=\"App-section-header\">\n            <h2>\n              Bills you are following\n            </h2>\n          </div>\n          <div className=\"App-section-content\">\n            {followingBills.map(bill => (\n              <BillBox {...bill} key={bill.name}/>\n            ))}\n          </div>\n        </div>\n      : ''}\n      <div className=\"App-section\">\n        <div className=\"App-section-header\">\n          <h2>\n            Bills we are following\n          </h2>\n        </div>\n        <div className=\"App-section-content\">\n          {scrapedData.bills.filter(b => b.followingIdx != null).sort((a, b) => a.followingIdx - b.followingIdx).map(bill => (\n            <BillBox {...bill} key={bill.name}/>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\nimport {\n  useParams,\n  Link,\n} from \"react-router-dom\";\nimport { matchNameByLastName, roleToNumber } from './utilities'\nimport BillBox from './BillBox'\nimport { RiExternalLinkLine } from 'react-icons/ri';\nimport { MdPhone, MdEmail } from 'react-icons/md';\nimport { useHistory } from \"react-router-dom\";\n\nfunction Person({ scrapedData, loaded }) {\n  const { name } = useParams();\n  const [person, setPerson] = useState(null)\n  const [bills, setBills] = useState(null)\n\n  const history = useHistory()\n\n  useEffect(() => {\n    scrapedData.people.forEach(p => {\n      if (p.name === name) {\n        setPerson(p)\n      }\n    })\n    \n    if (loaded) {\n      const tempBills = []\n      scrapedData.bills.forEach(b => {\n        b.sponsors.forEach(s => {\n          if (matchNameByLastName(name, s.name)) {\n            tempBills.push(b)\n          }\n        })\n      })\n      const sortedBills = tempBills.sort((a,b) => b.last_update_parsed - a.last_update_parsed)\n      setBills(sortedBills)\n    }\n  }, [scrapedData, name, loaded]);\n\n  if (!person) {\n    return <div />\n  }\n\n  console.log(person)\n\n  return (\n    <div className=\"Person-container\">\n      <div className=\"Person-breadcrumbs\">\n        <Link to=\"/\">Search</Link>&nbsp;&nbsp;»&nbsp;&nbsp;{person.name}\n      </div>\n      <div className=\"Person-header\">\n        <img src={person.photo}/>\n        <div className=\"Person-header-details\">\n          <div className=\"Person-name\">{person.name} ({person.party[0]} - {person.district_name})</div>\n          <div className=\"Person-office\">{person.chamber.toLowerCase() == 'house' ? 'Delegate' : 'Senator'}, District {person.district}</div>\n          {person.positions.length ? \n            <div className=\"Person-positions\">\n              {person.positions.map(position => (\n                <div className=\"Person-position\">{position}</div>\n              ))}\n            </div>\n          : ''}\n          <div className=\"Person-contact\">\n            {person.email ? <a href={`mailto:${person.email}`}><MdEmail /> {person.email}</a> : ''}\n            {person.phone ? <a href={`tel:${person.phone}`}><MdPhone/> {person.phone}</a> : ''}\n          </div>\n          <div className=\"Person-url\">\n            Source:&nbsp;&nbsp;<a href={person.url} target=\"_blank\">West Virginia Legislature <RiExternalLinkLine /></a>\n          </div>\n        </div>\n      </div>\n      <div className=\"Person-content\">\n        {(person.committees || []).length ?\n          <div>\n            <div className=\"Person-section-header\">Committees</div>\n            <div className=\"Person-committees-container\">\n              <div className=\"Person-committees\">\n                {person.committees.sort((a,b) => roleToNumber(b.role) - roleToNumber(a.role)).map(committee => (\n                  <div className=\"Person-committee\" key={committee.name} onClick={() => history.push(`/committee/${person.chamber.toLowerCase()}/${committee.name}`)}>\n                    <div className=\"Person-committee-name\">{committee.name}</div>\n                    <div className=\"Person-committee-role\">{committee.role}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        : ''}\n        {bills ?\n          <div>\n            <div className=\"Person-section-header\">Sponsored Bills</div>\n            <div className=\"Person-bills\">\n              {bills.map(bill => (\n                <BillBox {...bill} key={bill.name} />\n              ))}\n            </div>\n          </div>\n        : ''}\n      </div>\n    </div>\n  );\n}\n\nexport default Person;\n","import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { getPersonByLastName, capitalize, styleForTag, currencyFormat } from './utilities'\nimport { useCookies } from 'react-cookie'\nimport {\n  useParams,\n  Link,\n} from \"react-router-dom\";\nimport { BsStarFill, BsStar, BsFileText } from 'react-icons/bs';\nimport { FaRegClipboard } from 'react-icons/fa'\nimport { RiExternalLinkLine } from 'react-icons/ri';\nimport PersonBox from './PersonBox'\nimport moment from 'moment'\nimport { useHistory } from \"react-router-dom\";\nimport showdown from 'showdown'\n\nvar markdownConverter = new showdown.Converter()\n\nfunction Bill({ scrapedData, loaded }) {\n  const { name } = useParams();\n  const [bill, setBill] = useState(null)\n  const [cookies, setCookie, removeCookie] = useCookies(['following', 'address'])\n  let laidOut = false\n\n  const history = useHistory()\n\n  useEffect(() => {\n    scrapedData.bills.forEach(bill => {\n      if (bill.name == name) {\n        setBill(bill)\n      }\n    })\n  }, [name, loaded]);\n\n  useLayoutEffect(() => {\n    if (!laidOut && bill) {\n      if (window.twttr.widgets) {\n        window.twttr.widgets.load()\n      }\n      laidOut = true\n    }\n  })\n\n  if (!bill) {\n    return <div />\n  }\n\n  const isFollowing = (cookies.following || '').split(',').includes(name)\n\n  console.log(bill)\n\n  const statusBox = (\n    <div className='Bill-statusbar-status'>\n      <div className='Bill-statusbar-status-name'>{bill.status.step == 'committee' ? `In committee` : capitalize(bill.status.step)}</div>\n      {bill.last_update_parsed && bill.last_update_parsed.isValid() ? \n        <div className='Bill-statusbar-status-date'>{bill.status.step == 'committee' ? 'Since' : ''} {bill.last_update_parsed.format('MMM D')}</div> \n        : ''\n      }\n    </div>\n  )\n\n  const versionNames = [\n    'Introduced Version',\n    'Originating in Committee',\n    'Committee Substitute',\n    'Engrossed Version',\n    'Engrossed Committee Substitute',\n    'Enrolled Committee Substitute',\n    'Enrolled Version',\n    'Signed Enrolled Version'\n  ]\n  const versions = bill.versions.sort((a, b) => versionNames.indexOf(b.name) - versionNames.indexOf(a.name))\n  const houseVote = bill.votes.find(v => v.chamber == 'house')\n  const senateVote = bill.votes.find(v => v.chamber == 'senate')\n  return (\n    <div className=\"Bill-container\">\n      <div className='Bill-nav'>\n        <div className=\"Bill-breadcrumbs\">\n          <Link to=\"/\">Search</Link><b>&nbsp;&nbsp;»&nbsp;&nbsp;{name}</b>\n        </div>\n        <div className=\"Bill-buttons\">\n          {bill.agendas.length ?\n            <a onClick={e => e.stopPropagation()} href={bill.agendas[0].url} target=\"_blank\"><FaRegClipboard /> View Agenda</a>\n          : ''}\n          {versions.length ?\n            <a target=\"_blank\" href={versions[0]['url']}><BsFileText /> Read Text</a>\n          : ''}\n          <button className={`Bill-follow ${isFollowing ? 'Bill-following' : ''}`} onClick={() => {\n            if (isFollowing) {\n              setCookie('following', (cookies.following || '').replace(`${name},`, ''))\n            } else {\n              setCookie('following', `${cookies.following || ''}${name},`)\n            }\n          }}>\n            {isFollowing ? <BsStarFill /> : <BsStar />} {isFollowing ? 'Following' : 'Follow'}\n          </button>\n        </div>\n      </div>\n      {bill.step == '12' && bill.status.step == 'signed' ?\n        <div className=\"Bill-banner\">PASSED — {bill.last_action}</div>\n      : ''}\n      <div className=\"Bill-header\">\n        <div className=\"Bill-title\">{bill.title}</div>\n        <div className=\"Bill-subjects\">\n          \n          {(bill.tags || []).map(tag => (\n            <div key={tag} className=\"Tag\" style={styleForTag(tag)}>{tag}</div>\n          ))}\n        </div>\n        <div className=\"Bill-url\">\n          Source:&nbsp;&nbsp;<a href={bill.url} target=\"_blank\">West Virginia Legislature <RiExternalLinkLine /></a>\n        </div>\n      </div>\n      <div className={`Bill-statusbar ${bill.status.step == 'likely dead' ? 'Bill-dead': ''} ${bill.status.step == 'failed' || bill.status.step == 'vetoed' ? 'Bill-failed': ''}`}>\n        <div className=\"Bill-statusbar-group\">\n          <div className=\"Bill-statusbar-group-name\">{bill.name.includes('HB') ? 'House' : 'Senate'}</div>\n          {bill.name.includes('HB') && houseVote ?\n            <div className=\"Bill-statusbar-group-vote\">\n              <a href={houseVote.url} target=\"_blank\">{houseVote.passed ? 'Passed' : 'Failed'} {houseVote.votes.yes.length}-{houseVote.votes.no.length} <RiExternalLinkLine /></a>\n            </div>\n          : ''}\n          {bill.name.includes('SB') && senateVote ?\n            <div className=\"Bill-statusbar-group-vote\">\n              <a href={senateVote.url} target=\"_blank\">{senateVote.passed ? 'Passed' : 'Failed'} {senateVote.votes.yes.length}-{senateVote.votes.no.length}  <RiExternalLinkLine /></a>\n            </div>\n          : ''}\n        </div>\n        <div className=\"Bill-statusbar-group\" style={{left: '42%'}}>\n          <div className=\"Bill-statusbar-group-name\">{bill.name.includes('HB') ? 'Senate' : 'House'}</div>\n          {bill.name.includes('SB') && houseVote ?\n            <div className=\"Bill-statusbar-group-vote\">\n              <a href={houseVote.url} target=\"_blank\">{houseVote.passed ? 'Passed' : 'Failed'} {houseVote.votes.yes.length}-{houseVote.votes.no.length}  <RiExternalLinkLine /></a>\n            </div>\n          : ''}\n          {bill.name.includes('HB') && senateVote ?\n            <div className=\"Bill-statusbar-group-vote\">\n              <a href={senateVote.url} target=\"_blank\">{senateVote.passed ? 'Passed' : 'Failed'} {senateVote.votes.yes.length}-{senateVote.votes.no.length}  <RiExternalLinkLine /></a>\n            </div>\n          : ''}\n        </div>\n        <div className=\"Bill-statusbar-group\" style={{left: '80.5%', width: '14%'}}>\n          <div className=\"Bill-statusbar-group-name\">Governor</div>\n        </div>\n        <div className=\"Bill-statusbar-segment\">\n          {bill.step < 2 ? statusBox : ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 1 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 2 ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment\">\n          {bill.step >= 2 && bill.step < 5 ? statusBox : ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 2 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 5 ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment Bill-statusbar-segment-long\">\n          {bill.step == 5 ? statusBox: ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 5 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 5 && bill.status.step != 'failed' ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment\">\n          {bill.step == 6 ? statusBox: ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 6 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 7 ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment\">\n          {bill.step > 6 && bill.step < 10 ? statusBox : ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 7 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 10 && bill.status.step != 'failed' ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment Bill-statusbar-segment-long\">\n          {bill.step == 10 ? statusBox : ''}\n          <div className={`Bill-statusbar-dot ${bill.step >= 10 ? 'active' : ''}`} />\n          <div className={`Bill-statusbar-line ${bill.step >= 11 ? 'active' : ''}`} />\n        </div>\n        <div className=\"Bill-statusbar-segment\">\n          {bill.step >= 11 ? statusBox : ''}\n          <div className={`Bill-statusbar-dot ${bill.step == 12 ? 'active' : ''}`} />\n        </div>\n      </div>\n      <div className=\"Bill-content\">\n        <div className=\"Bill-details\">\n          {bill.status.committee && bill.status.committee.length ?\n            <div className=\"Bill-detail-item\">\n              <div className=\"Bill-detail-item-header\">Committee</div>\n              <div className=\"Bill-detail-item-content\">\n                <a href={`/committee/${bill.status.chamber}/${bill.status.committee}`}>{capitalize(bill.status.chamber)} {bill.status.committee}</a>\n              </div>\n            </div>\n          : ''}\n          {bill.subjects.length ?\n            <div className=\"Bill-detail-item\">\n              <div className=\"Bill-detail-item-header\">Subject</div>\n              <div className=\"Bill-detail-item-content\">\n                {bill.subjects.map((subject, idx) => (\n                  <span>\n                    <Link key={subject} to={`/subject/${subject}`}>{subject}</Link>\n                    {idx < bill.subjects.length - 1 ? ', ' : ''}  \n                  </span>\n                ))}\n              </div>\n            </div>\n          : ''}\n          {bill.fiscal_note && 'annual_cost' in bill.fiscal_note ? \n            <div className=\"Bill-detail-item\">\n              <div className=\"Bill-detail-item-header\">Projected Fiscal Impact</div>\n              <div className=\"Bill-detail-item-content\">\n                {currencyFormat(bill.fiscal_note.annual_revenue - bill.fiscal_note.annual_cost)} per year\n                <div className=\"Bill-fiscal-note\">\n                  Source: &nbsp;&nbsp;<a href={bill.fiscal_note.url} target=\"_blank\">{bill.fiscal_note.agency} <RiExternalLinkLine /></a>\n                </div>\n              </div>\n            </div>\n          : ''}\n          {bill.similar_to ?\n            <div className=\"Bill-detail-item\">\n              <div className=\"Bill-detail-item-header\">Similar To</div>\n              <div className=\"Bill-detail-item-content\">\n                <Link to={`/bill/${bill.similar_to}`}>{bill.similar_to}</Link>\n              </div>\n            </div>\n          : ''}\n        </div>\n        {bill.amendments.length ?\n          <div>\n            <div className=\"Bill-section-header\">Amendments</div>\n            <div className=\"Bill-section Bill-amendments\">\n              {bill.amendments.map(amendment => {\n                return (\n                  <a className=\"Bill-amendment\" href={amendment.url} target=\"_blank\">\n                    <div className=\"Bill-amendment-sponsors\">\n                      {amendment.sponsors.map(s => capitalize(s)).join(', ')}\n                    </div>\n                    <div className=\"Bill-amendment-status\">\n                    {capitalize(amendment.type.substring(0,1)) == 'H' ? 'House' : 'Senate'}, {capitalize(amendment.status)}\n                    </div>\n                  </a>\n                )\n              })}\n            </div>\n          </div>\n        : ''}\n        <div className=\"Bill-section-header\">Sponsors</div>\n        <div className=\"Bill-section Bill-sponsors\">\n          <div className=\"Bill-sponsors-container\" style={{width: bill.sponsors.length * 232 + 'px'}}>\n            {bill.sponsors.map(sponsor => {\n              const person = getPersonByLastName(scrapedData.people.filter(p => bill.name.includes('HB') ? p.chamber == 'House' : p.chamber == 'Senate'), sponsor.name)\n              if (!person) {\n                return <span className=\"Bill-sponsor\" key={sponsor.name}>{sponsor.name}</span>\n              }\n\n              return (\n                <PersonBox {...person} tag={sponsor.classification == 'primary' ? 'Lead Sponsor' : null} key={person.name}/>\n              )\n            })}\n          </div>\n        </div>\n        {loaded && (bill.dispatches || []).length ?\n        <div>\n          <div className=\"Bill-section-header\">Updates</div>\n          <div className=\"Bill-dispatches Bill-section\">\n            {bill.dispatches.sort((a,b) => moment(b.date).unix() - moment(a.date).unix()).map(dispatch => (\n              <div key={dispatch.date} className=\"Bill-dispatch\">\n                <div className=\"Bill-dispatch-header\">\n                  {dispatch.tag && dispatch.tag.length ?\n                    <div className=\"Bill-dispatch-tags\">\n                      <div key={dispatch.tag} className=\"Tag\" style={styleForTag(dispatch.tag)}>{dispatch.tag}</div>\n                    </div>\n                  : ''}\n                  <span className=\"Bill-dispatch-header-date\">{capitalize(moment(dispatch.date).format('MMM D, h:mm a'))}</span> — {dispatch.reporter}\n                </div>\n                <div className=\"Bill-dispatch-content\" dangerouslySetInnerHTML={{__html: markdownConverter.makeHtml(dispatch.content)}} />\n              </div>\n            ))}\n          </div>\n        </div>\n        : ''}\n      </div>\n    </div>\n  );\n}\n\nexport default Bill;\n","import React, { useState, useEffect } from 'react';\nimport { BsPower } from 'react-icons/bs';\nimport {\n  useParams,\n  Link,\n} from \"react-router-dom\";\nimport BillBox from './BillBox'\nimport Person from './Person';\nimport PersonBox from './PersonBox';\nimport { capitalize } from './utilities'\n\nfunction Committee({ scrapedData, loaded }) {\n  const { name, chamber } = useParams();\n\n  const bills = scrapedData.bills.filter(b => b.status.committee == name && b.status.chamber == chamber)\n\n  return (\n    <div className=\"Subject-container\">\n      <div className=\"Subject-breadcrumbs\">\n        <Link to=\"/\">Search</Link>&nbsp;&nbsp;»&nbsp;&nbsp;{capitalize(chamber)} Committee&nbsp;&nbsp;»&nbsp;&nbsp;{name}\n      </div>\n      <div className=\"Subject-content\">\n        {loaded ?\n        <div>\n          <div className=\"Subject-section-header\">Leadership</div>\n          <div className=\"Committee-leadership\">\n            {scrapedData.people.map(person => {\n              let role = null\n              if (person.committees) {\n                person.committees.forEach(committee => {\n                  if (committee.name.replace('&', 'and').toLowerCase() == name.toLowerCase() && person.chamber.toLowerCase() == chamber.toLowerCase()) {\n                    role = committee.role\n                  }\n                })\n              }\n              if (role == 'Chair' || role == 'Vice Chair') {\n                return <PersonBox {...person} tag={role} key={role}/>\n              }\n\n              return ''\n            }).sort((a,b) => a.key == 'Chair' ? -1 : 1)}\n          </div>\n        </div>\n        : ''}\n        <div className=\"Subject-section-header\">Bills</div>\n        <div>\n          {bills.sort((a,b) => b.agendas.length - a.agendas.length).map(bill => (\n            <BillBox {...bill} key={bill.name} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Committee;\n","import React, { useState, useEffect } from 'react';\nimport {\n  useParams,\n  Link,\n} from \"react-router-dom\";\nimport BillBox from './BillBox'\n\nfunction Subject({ scrapedData }) {\n  const { name } = useParams();\n\n  return (\n    <div className=\"Subject-container\">\n      <div className=\"Subject-breadcrumbs\">\n        <Link to=\"/\">Search</Link>&nbsp;&nbsp;»&nbsp;&nbsp;{name}\n      </div>\n      <div className=\"Subject-content\">\n        {scrapedData.bills.filter(b => b.subjects.includes(name)).map(bill => (\n          <BillBox {...bill} key={bill.name} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Subject;\n","import React from 'react';\nimport BillBox from './BillBox'\nimport { capitalize } from './utilities'\nimport moment from 'moment'\nimport { RiExternalLinkLine } from 'react-icons/ri';\n\nconst agendaItem = (scrapedData, {name, url, date, bills}) => (\n  <div className=\"Agenda\">\n    <div className=\"Agenda-header\">\n      <div>\n        <div className=\"Agenda-title\">\n          {name}\n        </div>\n        <div className=\"Agenda-date\">\n          {moment(date).format('MMMM D, YYYY — h:mm a').replace('am', 'a.m.').replace('pm', 'p.m.')}\n        </div>\n      </div>\n      <a className=\"Agenda-url\" href={url} target=\"_blank\"><RiExternalLinkLine /> View</a>\n    </div>\n    {bills.length ?\n      <div className=\"Agenda-bills\">\n        {bills.map(name => {\n          let bill = null\n          scrapedData.bills.forEach(b => {\n            if (b.name == name) {\n              bill = b\n            }\n          })\n          if (!bill) {\n            return\n          }\n\n          return (\n            <BillBox {...bill} key={bill.name} />\n          )\n        })}\n      </div>\n    : ''}\n  </div>\n)\n\nfunction Agenda({ scrapedData, loaded, type }) {\n  const agendas = scrapedData.agendas\n    .filter(a => moment().diff(moment(a.date), 'hours') < 12)\n    .filter(a => type.split(',').includes(a.type))\n    .sort((a,b) => moment(a.date).unix() - moment(b.date).unix())\n\n  return (\n    <div className=\"Agenda-container\">\n      {\n        agendas.map(agenda => agendaItem(scrapedData, agenda))\n      }\n    </div>\n  );\n}\n\nexport default Agenda;\n","export default __webpack_public_path__ + \"static/media/JUN20-MSS-Logo-Banner.e09ecdc9.png\";","import React, { useState, useEffect, } from 'react';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment'\nimport './index.css';\nimport App from './App';\nimport Person from './Person';\nimport Bill from './Bill';\nimport Committee from './Committee';\nimport Subject from './Subject';\nimport Agenda from './Agenda';\nimport Logo from \"./JUN20-MSS-Logo-Banner.png\"\nimport Airtable  from 'airtable'\nimport { MdEmail, MdMenu, MdClose } from 'react-icons/md';\nimport { updateBillStatus } from './utilities'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from \"react-router-dom\";\n\nfunction Wrapper() {\n  const scrapedData = require('./bills.json')\n  const bills = []\n  Object.keys(scrapedData.bills).forEach(k => {\n    bills.push({name: k, ...scrapedData.bills[k]})\n  })\n  bills.forEach(b => {\n    updateBillStatus(b)\n    b.agendas = scrapedData.agendas.filter(a => a.bills.includes(b.name) && moment().diff(moment(a.date), 'hours') < 12)\n  })\n  scrapedData.bills = bills\n\n  const scrapedLegislators = require('./legislators.json')\n  const people = []\n  Object.keys(scrapedLegislators).forEach(k => {\n    people.push({name: k, ...scrapedLegislators[k]})\n  })\n  scrapedData.people = people\n\n  const base = new Airtable({apiKey: 'keyX0mQVFiAFPITWj'}).base('apphXzpbYfgPql6dw');\n  const [loaded, setLoaded] = useState(false)\n  const [mobileMenuShow, setMobileMenuShow] = useState(false)\n\n  const joinAirtable = async () => {\n    return Promise.all([\n      new Promise(function(resolve, reject) { \n        let billNames = []\n        base('FOLLOWING2021').select({\n          view: \"Grid view\"\n        }).eachPage(function page(records, fetchNextPage) {\n          records.forEach(function(record) {\n            billNames.push({\n              name: record.get('Bill'),\n              notes: record.get('Notes'),\n              tags: record.get('Tags')\n            })\n          });\n          fetchNextPage();\n        }, function done(err) {\n          resolve(billNames)\n        });\n      }),\n      new Promise(function(resolve, reject) { \n        let dispatches = []\n        base('DISPATCHES2021').select({\n          view: \"Grid view\"\n        }).eachPage(function page(records, fetchNextPage) {\n          records.forEach(function(record) {\n            dispatches.push({\n              bill: record.get('Bill'),\n              date: record.get('Date'),\n              tag: record.get('Tag'),\n              reporter: record.get('Reporter'),\n              source: record.get('Source'),\n              content: record.get('Content'),\n            })\n          });\n          fetchNextPage();\n        }, function done(err) {\n          resolve(dispatches)\n        });\n      })\n    ])\n  }\n\n  useEffect(async () => {\n\n    const output = await joinAirtable()\n    output[0].forEach((billData, idx) => {\n      scrapedData.bills.forEach(bill => {\n        if (billData.name == bill.name) {\n          bill.followingIdx = idx\n          bill.notes = billData.notes\n          bill.tags = billData.tags\n        }\n      })\n    })\n    output[1].forEach((dispatch) => {\n      scrapedData.bills.forEach(bill => {\n        if (dispatch.bill == bill.name) {\n          if (!bill.dispatches) {\n            bill.dispatches = [dispatch]\n          } else {\n            bill.dispatches.push(dispatch)\n          }\n        }\n      })\n    })\n  \n    setLoaded(true)\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"Header\">\n        <div className=\"Header-nav\">\n          <a href=\"https://mountainstatespotlight.org\"><img className=\"Header-logo\" src={Logo} /></a>\n          <Link className=\"Header-nav-button\" to=\"/\">Home</Link>\n          <a className=\"Header-nav-button\" href=\"https://mountainstatespotlight.org/category/legislature/\">Latest News</a>\n          <a className=\"Header-nav-button\" href=\"https://mountainstatespotlight.org/2021/02/14/introducing-mountain-state-spotlights-west-virginia-capitol-tracker/\">Guide</a>\n          <Link className=\"Header-nav-button\" to=\"/calendars\">Calendars</Link>\n          <Link className=\"Header-nav-button\" to=\"/agendas\">Agendas</Link>\n          <div className=\"Header-mobilemenu-container\">\n            <div className=\"Header-mobilemenu-icon\" onClick={() => setMobileMenuShow(!mobileMenuShow)}>\n              {mobileMenuShow ? <MdClose /> : <MdMenu />}\n            </div>\n            {mobileMenuShow ? \n              <div className=\"Header-mobilemenu\">\n                <Link className=\"Header-mobilemenu-button\" onClick={() => setMobileMenuShow(false)} to=\"/\">Home</Link>\n                <a className=\"Header-mobilemenu-button\" onClick={() => setMobileMenuShow(false)} href=\"https://mountainstatespotlight.org/category/legislature/\">Latest News</a>\n                <a className=\"Header-mobilemenu-button\" onClick={() => setMobileMenuShow(false)} href=\"https://mountainstatespotlight.org/2021/02/14/introducing-mountain-state-spotlights-west-virginia-capitol-tracker/\">Guide</a>\n                <Link className=\"Header-mobilemenu-button\" onClick={() => setMobileMenuShow(false)} to=\"/calendars\">Calendars</Link>\n                <Link className=\"Header-mobilemenu-button\" onClick={() => setMobileMenuShow(false)} to=\"/agendas\">Agendas</Link>\n                <a className=\"Header-mobilemenu-button\" target=\"_blank\" href=\"https://mountainstatespotlight.org/newsletter-sign-up/\">Sign Up</a>\n                <a className=\"Header-mobilemenu-button\" href=\"https://checkout.fundjournalism.org/memberform?org_id=mountainstatespotlight&campaign=7014W000001diQiQAI\" target=\"_blank\">Donate</a>\n              </div>\n            : ''}\n          </div>\n        </div>\n        <a className=\"Header-social\" href=\"https://mountainstatespotlight.org/newsletter-sign-up/\" target=\"_blank\"><MdEmail /> SIGN UP</a>\n        <a className=\"Header-button\" href=\"https://checkout.fundjournalism.org/memberform?org_id=mountainstatespotlight&campaign=7014W000001diQiQAI\" target=\"_blank\">Donate</a>\n      </div>\n      <Switch>\n        <Route exact path=\"/\">\n          <App scrapedData={scrapedData} loaded={loaded} />\n        </Route>\n        <Route exact path=\"/agenda\">\n          <Agenda scrapedData={scrapedData} loaded={loaded} type='committee'/>\n        </Route>\n        <Route exact path=\"/agendas\">\n          <Agenda scrapedData={scrapedData} loaded={loaded} type='committee' />\n        </Route>\n        <Route exact path=\"/calendars\">\n          <Agenda scrapedData={scrapedData} loaded={loaded} type='special,floor' />\n        </Route>\n        <Route path=\"/bill/:name\">\n          <Bill scrapedData={scrapedData} loaded={loaded} />\n        </Route>\n        <Route path=\"/person/:name\">\n          <Person scrapedData={scrapedData} loaded={loaded} />\n        </Route>\n        <Route path=\"/subject/:name\">\n          <Subject scrapedData={scrapedData} loaded={loaded} />\n        </Route>\n        <Route path=\"/committee/:chamber/:name\">\n          <Committee scrapedData={scrapedData} loaded={loaded} />\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nReactDOM.render(\n  <div>\n    <Wrapper />\n  </div>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}